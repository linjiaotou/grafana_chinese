<page-header model="ctrl.navModel"></page-header>

<div class="page-container page-body">
  <div ng-if="ctrl.playlists.length > 0">
    <div class="page-action-bar" ng-if="ctrl.canEditPlaylists">
      <div class="page-action-bar__spacer"></div>
      <a class="btn btn-primary pull-right" href="playlists/create">
        New playlist
      </a>
    </div>

    <table class="filter-table filter-table--hover">
      <thead>
        <th><strong>Name</strong></th>
        <th style="width: 100px"></th>
        <th ng-if="ctrl.canEditPlaylists" style="width: 78px"></th>
      </thead>
      <tr ng-repeat="playlist in ctrl.playlists">
        <td ng-class="{'link-td': ctrl.canEditPlaylists}">
          <a ng-if="ctrl.canEditPlaylists" href="playlists/edit/{{playlist.id}}">{{playlist.name}}</a>
          <span ng-if="!ctrl.canEditPlaylists">{{playlist.name}}</span>
        </td>
        <td class="dropdown">
          <button class="btn btn-inverse btn-small" data-toggle="dropdown">
            Start playlist
            <icon name="'angle-down'"></icon>
          </button>
          <ul class="dropdown-menu" role="menu">
            <li>
              <a href="{{playlist.startUrl}}">
                <icon name="'play'"></icon> In Normal mode</span>
              </a>
              <a href="{{playlist.startUrl}}?kiosk=tv">
                <icon name="'play'"></icon> In TV mode</span>
              </a>
              <a href="{{playlist.startUrl}}?kiosk=tv&autofitpanels">
                <icon name="'play'"></icon> In TV mode <span class="muted">(with auto fit panels)</span>
              </a>
              <a href="{{playlist.startUrl}}?kiosk">
                <icon name="'play'"></icon> In Kiosk mode</span>
              </a>
              <a ng-href="{{playlist.startUrl}}?kiosk&autofitpanels">
                <icon name="'play'"></icon> In Kiosk mode <span class="muted">(with auto fit panels)</span>
              </a>
            </li>
          </ul>
        </td>
        <td ng-if="ctrl.canEditPlaylists" class="text-right">
          <a ng-click="ctrl.removePlaylist(playlist)" class="btn btn-danger btn-small">
            <icon name="'times'"></icon>
          </a>
        </td>
      </tr>
    </table>
  </div>
  <div ng-if="ctrl.playlists.length === 0">
    <div ng-if="ctrl.canEditPlaylists">
      <empty-list-cta
        title="'目前还没有创建播放列表'"
        buttonIcon="'plus'"
        buttonLink="'playlists/create'"
        buttonTitle="'创建播放列表'"
        proTip="'你可以在没有用户控制的情况下，使用播放列表让仪表盘在TVs上滚动'"
        proTipLink="'http://docs.grafana.org/reference/playlist/'"
        proTipLinkTitle="'了解更多'"
        proTipTarget="'_blank'" />
    </div>
    <div class="grafana-info-box" ng-if="!ctrl.canEditPlaylists">
      <h5>目前还没有创建播放列表</h5>
      <p>Unfortunately you don't have permission to create playlists.</p>
    </div>
  </div>

</div>

<footer />
